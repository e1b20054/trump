# 【ダウトゲームのユーザマニュアル】（最終更新日 2023/1/14）

## ＜簡単なゲーム説明＞
手札を順番やターンに従って出していき、他のプレイヤーよりも早く手札を無くすと勝利となるゲームです。
相手の手札を推測したり、疑う力が大切になります。


## ＜プレイ人数＞
４人


## ＜対象ユーザ＞
・年齢：全年齢対象
・ダウトゲームの内容が分かる人であれば、誰でもプレイ可能！


## ＜各ロールの役割＞
・USERロール：実際にゲームを楽しむ人用のロール
・ADMINロール：
    出したカードの内容や、全てのプレイヤの手札を見られる観戦用のロール

## ＜操作説明＞
### （０）ログイン後、「ダウト」リンクをクリック（USERロール). 同じくログイン後、「ダウト(ゲームを見る)」リンクをクリック(ADMINロール)

### １.USERロールでの動作

### （１）ダウトトップ画面（doubt.html）

    ・「ゲーム選択へ戻る」をクリックすると、ゲーム選択画面に戻る

    ・「ようこそ ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される

    ・「あなたの戦歴」には「現在ｘ勝（ｘは０以上の整数）」という形で自身の勝利数が表示される

    ・「部屋入室」にある「待機部屋へ」リンクをクリックすると、（２）ダウト待機部屋画面に移る

### （２）ダウト待機部屋画面（doubtMatch.html）

    ・「ようこそ ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される

    ・「入室メンバ」には自身も含め、現在待機部屋に入室しているユーザのユーザ名が箇条書きで表示される

    ・「入室メンバ」の一番上に表示されているユーザ（１番目に入室したユーザ）は準備ができ次第、「スタート」リンクをクリックする。クリックすると（３）ダウトゲーム画面に移る。

    ・それ以外のメンバは、「スタート」が押されると「開始まで少しお待ちください」と表示されていたところに「ゲームスタート」リンクが出る。それをクリックすると、同様に（３）に移る

### （３）ダウトゲーム画面（doubtFight.html (１番目に入室したユーザの初めのみdoubtFight.html)）

    ・「Hi! ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される

    ・「場」：場には、(経過したターン数)［1つ前に出すべきだったカード］を出しました。次は［今出すべきカード］です。次は、［今手札を出せるプレイヤ名］のターンです。と表示される。

    ・「手札」: 手札には、配られた手札に対応したボタン、配られたランダムなカードの画像、他プレイヤの手札枚数が表示される。他プレイヤの手札枚数は、更新しなければ枚数の更新はされない。

    ・「ダウト宣言」: ダウト宣言を行う。「ダウト宣言」すると, 場の欄にダウト宣言がされたこと, 宣言がされたターン, 結果(成功か失敗)が表示されます. この表示は常時更新はされないため, 後に示す更新ボタンを押すことで更新できる.

    ・「更新」: ページの更新に用いられる。(表示バグや手札枚数の更新など)

    ・「ゲーム選択へ戻る」をクリックすると、ゲーム選択画面に戻る

    ＜手番が自分の時＞

    ・手番が自分の時のみ手札にあるカードに対応したボタンを押すことができ、場に反映される。

    ・ボタンを押すと次のユーザに手番が回る

    ・ダウト宣言では手番は回らない。

    ＜手番が自分以外の時＞

    ・手番が自分以外の時、手札にアルカードに対応したボタンを押しても場に反映されず、画面の更新のみとなる。

    ・いずれかのプレイヤが最後の１枚を手札から出すと、自動的に（４）ダウト結果発表画面に移る

    ・それ以外のユーザは場に<<ゲーム終了>>が含まれた文が表示されるので、各自画面下部のゲーム選択へ戻るボタンを押して、doubt.htmlに戻る。

### （４）ダウト結果発表画面（doubtEnd.html）

    ・「Congratulation!［ユーザ名］」：［ユーザ名］には、ログイン時のユーザ名が表示される

    ・その下には「現在の［ユーザ名］の勝利数:X」(Xは1以上の整数で表される。)

    ・「ゲーム選択へ戻る」リンクをクリックすると、ゲーム選択画面に移る。

### ２.ADMINロールでの動作

### （１）ダウトゲーム画面（doubtFight.html）

    ・「Hi! ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される(adminロールはadminしかいないのでadminとなる)

    ・「場」：場には、(経過したターン数)［1つ前に出すべきだったカード］を出しました。次は［今出すべきカード］です。次は、［今手札を出せるプレイヤ名］のターンです。出したカードは［本当に出したカードの詳細］です。(ADMIN)と表示される。

    ・「各プレイヤの手札」: 各プレイヤの手札には、各プレイヤに配られたランダムなカードの画像、他プレイヤの手札枚数が表示される。他プレイヤの手札枚数は、更新しなければ枚数の更新はされない。

    ・「更新」: ページの更新に用いられる。(表示バグや手札枚数の更新など)

    ・「ゲーム選択へ戻る」をクリックすると、ゲーム選択画面に戻る

    ・ゲーム終了するとユーザは場に<<ゲーム終了>>が含まれた文が表示されるので、各自画面下部のゲーム選択へ戻るボタンを押して、doubt.htmlに戻る。


## ＜設計上の仕様＞

・ダウトトップ画面において、すでに４人のユーザが待機画面にいる場合、それ以降のユーザが「待機部屋へ」リンクをクリックしても、ダウト待機部屋画面には移らない

・代わりに「現在, 他のプレイヤーがゲームをプレイ中です.    終了まで他のゲームをプレイしてお待ちください.」と「ゲーム選択へ戻る」リンクが表示され、リンクをクリックするとゲーム選択画面に移る

・同様に誰かがゲームをプレイしている際に、ダウトトップ画面の「待機部屋へ」リンクをクリック場合も同じです


## ＜注意点＞

・doubtFight.htmlの「ゲーム選択へ戻る」をゲーム中に押すと不具合が起きる原因となるため推奨しない。

・ADMINがゲームを見るとき、doubtFight.htmlでは、 プレイヤがゲームを始め手札が配られていないと手札の表示はされない。
