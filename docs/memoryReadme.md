# 【神経衰弱ゲームのユーザマニュアル】（最終更新日 2023/1/7）

## ＜簡単なゲーム説明＞
裏向きにならべたカードの中から、同じ数字のカードを２枚引き当てるゲームです。
手札は0枚からはじまって、最後にカードの枚数を１番多く集めた人が勝ちです。
どこにどのカードがあったのかを覚えておける記憶力が大切です。


## ＜プレイ人数＞
１～４人


## ＜対象ユーザ＞
・年齢：全年齢対象
・神経衰弱ゲームの内容が分かる人であれば、誰でもプレイ可能！


## ＜各ロールの役割＞
・USERロール：実際にゲームを楽しむ人用のロール
・ADMINロール：
    ゲーム時にトランプがすべて表向きになっているため、デバック時に使用するためのロール


## ＜操作説明＞
### （０）ログイン後、「神経衰弱」リンクをクリック（ロール共通）

### １.USERロールでの動作
### （１）神経衰弱トップ画面（memory.html）
    ・「ゲーム選択へ戻る」をクリックすると、ゲーム選択画面に戻る
    ・「ようこそ ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「あなたの戦歴」には「現在ｘ勝（ｘは０以上の整数）」という形で自身の勝利数が表示される
    ・「部屋入室」にある「待機部屋へ」リンクをクリックすると、（２）神経衰弱待機部屋画面に移る

### （２）神経衰弱待機部屋画面（memoryMatch.html）
    ・「ようこそ ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「入室メンバ」には自身も含め、現在待機部屋に入室しているユーザのユーザ名が箇条書きで表示される
    ・「入室メンバ」の一番上に表示されているユーザ（１番目に入室したユーザ）は準備ができ次第、「スタート」リンクをクリックする。クリックすると（３）神経衰弱ゲーム画面に移る。
    ・それ以外のメンバは、「スタート」が押されると「開始まで少しお待ちください」と表示されていたところに「ゲームスタート」リンクが出る。それをクリックすると、同様に（３）に移る

### （３）神経衰弱ゲーム画面（memory）
    ・「Field of ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「［ユーザ名］ の番です」：［ユーザ名］には現在の手番のユーザのユーザ名が表示される（参加人数が１人の時は表示されない）

    ＜手番が自分の時＞
    ・裏側を向いているトランプをクリックすると、そのトランプが表向きになる（２枚表になった時点で裏向きのトランプをクリックしても表向きにはならない）
    ・２枚のトランプが表向きになると、「Field of ［ユーザ名］」の右に「次へ」リンクが出る。そのリンクをクリックすると、表向きのトランプの数字が同じ時、その２枚はGETカードになり、手番のプレイヤーの手札が２枚増え、再び自分の手番になる。そうでない場合は、２枚のトランプは裏向きに戻り、次のユーザに手番が回る
    ＜手番が自分以外の時＞
    ・ユーザはどの裏向きのトランプをクリックしても、表示は変わらない

    ・最後の１セットを表向きにし、「次へ」リンクをクリックしたユーザは自動的に（４）神経衰弱結果発表画面に移る
    ・それ以外のユーザは「Field of ［ユーザ名］、［ユーザ名］ の番です」と表示されていたところに、「結果発表」リンクが出る。それをクリックすると、同様に（４）に移る

### （４）神経衰弱結果発表画面（memoryEnd.html）
    ＜参加人数が２人以上の場合＞
    ・「［ユーザ名］ の勝ち（ｘ枚獲得）」：［ユーザ名］には、最終的に一番多くのトランプを獲得したユーザのユーザ名が表示され、ｘにはそのユーザが獲得したトランプの枚数が表示される
    ・その下には「［順位］：［ユーザ名］ （［獲得枚数］枚獲得）」のように、獲得したトランプの枚数が多い順に表示される
    ・「ゲーム選択へ戻る」リンクをクリックすると、ゲーム選択画面に移る
    ＜参加人数が１人の場合＞
    ・「Congratulation! ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「現在の［ユーザ名］の勝利数：ｘ」：［ユーザ名］にはログイン時のユーザ名が表示され、ｘにはそのユーザの勝利数が表示される
    ・「ゲーム選択へ戻る」リンクをクリックすると、ゲーム選択画面に移る


### ２.ADMINロールでの動作
### （１）神経衰弱トップ画面（memory.html）
    ・「ゲーム選択へ戻る」をクリックすると、ゲーム選択画面に戻る
    ・「ようこそ ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「部屋入室」にある「待機部屋へ」リンクをクリックすると、（２）神経衰弱待機部屋画面に移る

### （２）神経衰弱待機部屋画面（memoryMatch.html）
    ・「ようこそ ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「入室メンバ」には自身も含め、現在待機部屋に入室しているユーザのユーザ名が箇条書きで表示される
    ・「入室メンバ」の一番上に表示されているユーザ（１番目に入室したユーザ）は準備ができ次第、「スタート」リンクをクリックする。クリックすると（３）神経衰弱ゲーム画面に移る。
    ・それ以外のメンバは、「スタート」が押されると「開始まで少しお待ちください」と表示されていたところに「ゲームスタート」リンクが出る。それをクリックすると、同様に（３）に移る

### （３）神経衰弱ゲーム画面（memory）
    ・「Field of ［ユーザ名］」：［ユーザ名］にはログイン時のユーザ名が表示される
    ・「［ユーザ名］ の番です」：［ユーザ名］には現在の手番のユーザのユーザ名が表示される（参加人数が１人の時は表示されない）

    ＜手番が自分の時＞
    ※以下では
    表側を向いており、まだクリックしていないトランプ ＝ 裏向きのトランプ
    表側を向いており、すでにクリックしているトランプ ＝ 表向きのトランプ
    として説明する

    ・裏向きのトランプをクリックすると、そのトランプが表向きになる（２枚表になった時点で裏向きのトランプをクリックしても表向きにはならない）
    ・２枚のトランプが表向きになると、「Field of ［ユーザ名］」の右に「次へ」リンクが出る。そのリンクをクリックすると、表向きのトランプの数字が同じ時、その２枚はGETカードになり、手番のプレイヤーの手札が２枚増え、再び自分の手番になる。そうでない場合は、２枚のトランプは裏向きに戻り、次のユーザに手番が回る
    ＜手番が自分以外の時＞
    ・ユーザはどの裏向きのトランプをクリックしても、表示は変わらない

    ・最後の１セットを表向きにし、「次へ」リンクをクリックしたユーザは自動的に（４）神経衰弱結果発表画面に移る
    ・それ以外のユーザは「Field of ［ユーザ名］、［ユーザ名］ の番です」と表示されていたところに、「結果発表」リンクが出る。それをクリックすると、同様に（４）に移る

### （４）神経衰弱結果発表画面（memoryEnd.html）
    ＜参加人数が２人以上の場合＞
    ・「［順位］：［ユーザ名］ （［獲得枚数］枚獲得）」のように、獲得したトランプの枚数が多い順に表示される
    ・「ゲーム選択へ戻る」リンクをクリックすると、ゲーム選択画面に移る
    ＜参加人数が１人の場合＞
    ・「ゲーム選択へ戻る」リンクをクリックすると、ゲーム選択画面に移る（これのみ表示）


## ＜設計上の仕様＞
・神経衰弱トップ画面において、すでに４人のユーザが待機画面にいる場合、それ以降のユーザが「待機部屋へ」リンクをクリックしても、神経衰弱待機部屋画面には移らない
・代わりに「現在, 他のプレイヤーがゲームをプレイ中です.    終了まで他のゲームをプレイしてお待ちください.」と「ゲーム選択へ戻る」リンクが表示され、リンクをクリックするとゲーム選択画面に移る
・同様に誰かがゲームをプレイしている際に、神経衰弱トップ画面の「待機部屋へ」リンクをクリック場合も同じです
・神経衰弱結果発表画面の順位表示ですが、実装の都合上、獲得枚数が同じ場合は先に入室したユーザの方が順位が高くなります


## ＜注意点＞
・プレイするユーザのモニタサイズによると、トランプが綺麗に縦４枚ｘ横１３枚という形で表示されない場合があります。その場合でもプレイには支障はありませんが、綺麗な表示が良いという人はブラウザ画面の拡大縮小などを用いて、調整してください
・神経衰弱ゲーム画面にて、手番ではない場合や手番ですでに表向きのトランプが２枚ある場合、裏向きのトランプをクリックしても、画面上の変化はありませんが、過度な連打は予期せぬエラーを引き起こす可能性がありますので、お控えください




以上
